2020-11-01 20:47:01 run.py[run,20] DEBUG "Accept the datab'[\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_7000",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-podb6444dd6_a730_4029_98c7_f90b0819df1b.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-7wwtt",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-7wwtt\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage",\r\n            "id":"/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-podd584bd55_53b5_4955_9795_b3f7998317e1.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod3eb58787_d351_4288_ae17_85e026f3d382.slice",\r\n            "instance":"bluek8s12009node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-hvcz9",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-hvcz9\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-podb6444dd6_a730_4029_98c7_f90b0819df1b.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-7wwtt",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-7wwtt\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-podd584bd55_53b5_4955_9795_b3f7998317e1.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod3eb58787_d351_4288_ae17_85e026f3d382.slice",\r\n            "instance":"bluek8s12009node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-hvcz9",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-hvcz9\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    }\r\n]'"
2020-11-01 20:47:01 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}]"
2020-11-01 20:47:02 fishconfig.py[fishconfig,108] DEBUG "Count: the count of conditions is 5"
2020-11-01 20:47:02 fishconfig.py[fishconfig,139] DEBUG "Work: match success"
2020-11-01 20:47:02 alert.py[alert,42] DEBUG "alertContent: alert content is alertname: PodMemoryUsage_7000
description: kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)
summary: ÄÚ´æÊ¹ÓÃÂÊ
instance: bluek8s11100node
job: kubernetes-cadvisor
level: 1
namespace: id-prod-bluepay
pod: deployment-nas-1-7b9458674f-7wwtt
type: pod
alertAt: 2020-11-01 20:47:01
alertSource: prometheus"
2020-11-01 20:47:02 alert.py[alert,63] DEBUG "AlertMethod: send to wechat: user is nat.zhu"
2020-11-01 20:47:02 alert.py[alert,72] DEBUG "AlertMethod: send to dingtalk: webook is https://oapi.dingtalk.com/robot/send?access_token=223dce65a3640d336875de3ccb6c58fa684e1609ff68a4d131d9083bf368380c,atDingtalk is []"
2020-11-01 20:47:02 dingtalk.py[dingtalk,115] DEBUG "textÀàĞÍ£º{'msgtype': 'text', 'at': {}, 'text': {'content': 'alertname: PodMemoryUsage_7000\ndescription: kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)\nsummary: ÄÚ´æÊ¹ÓÃÂÊ\ninstance: bluek8s11100node\njob: kubernetes-cadvisor\nlevel: 1\nnamespace: id-prod-bluepay\npod: deployment-nas-1-7b9458674f-7wwtt\ntype: pod\nalertAt: 2020-11-01 20:47:01\nalertSource: prometheus'}}"
2020-11-01 20:47:02 connectionpool.py[connectionpool,943] DEBUG "Starting new HTTPS connection (1): oapi.dingtalk.com:443"
2020-11-01 20:47:02 connectionpool.py[connectionpool,442] DEBUG "https://oapi.dingtalk.com:443 "POST /robot/send?access_token=223dce65a3640d336875de3ccb6c58fa684e1609ff68a4d131d9083bf368380c&timestamp=1604234822462&sign=NiW4k%2BHXzOG1a3mg%2BeUG%2BjkPiI8oSe58a6qGgeApHh4%3D HTTP/1.1" 200 None"
2020-11-01 20:47:02 dingtalk.py[dingtalk,162] DEBUG "·¢ËÍ½á¹û£º{'errcode': 0, 'errmsg': 'ok'}"
2020-11-01 20:47:02 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}]"
2020-11-01 20:47:02 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 20:47:02 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}]"
2020-11-01 20:47:02 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 20:47:02 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}]"
2020-11-01 20:47:02 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 20:47:02 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}]"
2020-11-01 20:47:02 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 20:47:02 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus'}]"
2020-11-01 20:47:02 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 20:47:02 datahandle.py[datahandle,60] DEBUG "Insert success: [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus', '_id': ObjectId('5f9eae46cc99ba0da88ba747')}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus', '_id': ObjectId('5f9eae46cc99ba0da88ba748')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus', '_id': ObjectId('5f9eae46cc99ba0da88ba749')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus', '_id': ObjectId('5f9eae46cc99ba0da88ba74a')}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus', '_id': ObjectId('5f9eae46cc99ba0da88ba74b')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 20:47:01', 'alertSource': 'prometheus', '_id': ObjectId('5f9eae46cc99ba0da88ba74c')}]"
2020-11-01 20:47:02 _internal.py[_internal,113] INFO "127.0.0.1 - - [01/Nov/2020 20:47:02] "[37mPOST /promeData HTTP/1.1[0m" 200 -"
2020-11-01 20:54:27 _internal.py[_internal,113] INFO " * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)"
2020-11-01 20:54:29 _internal.py[_internal,113] INFO "127.0.0.1 - - [01/Nov/2020 20:54:29] "[33mPOST /promeData HTTP/1.1[0m" 404 -"
2020-11-01 20:54:30 _internal.py[_internal,113] INFO "127.0.0.1 - - [01/Nov/2020 20:54:30] "[33mPOST /promeData HTTP/1.1[0m" 404 -"
2020-11-01 20:58:43 _internal.py[_internal,113] INFO " * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)"
2020-11-01 20:58:46 app.py[app,1892] ERROR "Exception on /promeData [POST]"
Traceback (most recent call last):
  File "C:\Users\nat\AppData\Local\Programs\Python\Python37\lib\site-packages\flask\app.py", line 2447, in wsgi_app
    response = self.full_dispatch_request()
  File "C:\Users\nat\AppData\Local\Programs\Python\Python37\lib\site-packages\flask\app.py", line 1952, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "C:\Users\nat\AppData\Local\Programs\Python\Python37\lib\site-packages\flask\app.py", line 1821, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "C:\Users\nat\AppData\Local\Programs\Python\Python37\lib\site-packages\flask\_compat.py", line 39, in reraise
    raise value
  File "C:\Users\nat\AppData\Local\Programs\Python\Python37\lib\site-packages\flask\app.py", line 1950, in full_dispatch_request
    rv = self.dispatch_request()
  File "C:\Users\nat\AppData\Local\Programs\Python\Python37\lib\site-packages\flask\app.py", line 1936, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "e:\work\Program\fishalert\api.py", line 29, in promeData
    logger.debug('Accept the data' + str(data))
AttributeError: module 'tools.logger' has no attribute 'debug'
2020-11-01 20:58:46 _internal.py[_internal,113] INFO "127.0.0.1 - - [01/Nov/2020 20:58:46] "[35m[1mPOST /promeData HTTP/1.1[0m" 500 -"
2020-11-01 21:00:21 _internal.py[_internal,113] INFO " * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)"
2020-11-01 21:00:23 api.py[api,29] DEBUG "Accept the datab'[\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_7000",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-podb6444dd6_a730_4029_98c7_f90b0819df1b.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-7wwtt",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-7wwtt\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage",\r\n            "id":"/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-podd584bd55_53b5_4955_9795_b3f7998317e1.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod3eb58787_d351_4288_ae17_85e026f3d382.slice",\r\n            "instance":"bluek8s12009node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-hvcz9",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-hvcz9\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-podb6444dd6_a730_4029_98c7_f90b0819df1b.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-7wwtt",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-7wwtt\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-podd584bd55_53b5_4955_9795_b3f7998317e1.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod3eb58787_d351_4288_ae17_85e026f3d382.slice",\r\n            "instance":"bluek8s12009node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-hvcz9",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-hvcz9\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    }\r\n]'"
2020-11-01 21:00:23 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:23 fishconfig.py[fishconfig,108] DEBUG "Count: the count of conditions is 0"
2020-11-01 21:00:23 fishconfig.py[fishconfig,143] DEBUG "Work: the message is not match the rule"
2020-11-01 21:00:23 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:23 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:23 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:23 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:23 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:23 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:23 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:23 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:23 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:23 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:23 datahandle.py[datahandle,60] DEBUG "Insert success: [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb167999fa04d63d4963e')}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb167999fa04d63d4963f')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb167999fa04d63d49640')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb167999fa04d63d49641')}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb167999fa04d63d49642')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:23', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb167999fa04d63d49643')}]"
2020-11-01 21:00:23 _internal.py[_internal,113] INFO "127.0.0.1 - - [01/Nov/2020 21:00:23] "[37mPOST /promeData HTTP/1.1[0m" 200 -"
2020-11-01 21:00:24 api.py[api,29] DEBUG "Accept the datab'[\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_7000",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-podb6444dd6_a730_4029_98c7_f90b0819df1b.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-7wwtt",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-7wwtt\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage",\r\n            "id":"/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-podd584bd55_53b5_4955_9795_b3f7998317e1.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod3eb58787_d351_4288_ae17_85e026f3d382.slice",\r\n            "instance":"bluek8s12009node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-hvcz9",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-hvcz9\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-podb6444dd6_a730_4029_98c7_f90b0819df1b.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-7wwtt",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-7wwtt\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-podd584bd55_53b5_4955_9795_b3f7998317e1.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod3eb58787_d351_4288_ae17_85e026f3d382.slice",\r\n            "instance":"bluek8s12009node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-hvcz9",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-hvcz9\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    }\r\n]'"
2020-11-01 21:00:24 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:24 fishconfig.py[fishconfig,108] DEBUG "Count: the count of conditions is 1"
2020-11-01 21:00:24 fishconfig.py[fishconfig,143] DEBUG "Work: the message is not match the rule"
2020-11-01 21:00:24 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:24 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:24 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:24 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:24 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:24 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:24 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:24 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:24 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:24 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:24 datahandle.py[datahandle,60] DEBUG "Insert success: [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb168999fa04d63d49645')}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb168999fa04d63d49646')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb168999fa04d63d49647')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb168999fa04d63d49648')}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb168999fa04d63d49649')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb168999fa04d63d4964a')}]"
2020-11-01 21:00:24 _internal.py[_internal,113] INFO "127.0.0.1 - - [01/Nov/2020 21:00:24] "[37mPOST /promeData HTTP/1.1[0m" 200 -"
2020-11-01 21:00:24 api.py[api,29] DEBUG "Accept the datab'[\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_7000",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-podb6444dd6_a730_4029_98c7_f90b0819df1b.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-7wwtt",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-7wwtt\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage",\r\n            "id":"/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-podd584bd55_53b5_4955_9795_b3f7998317e1.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod3eb58787_d351_4288_ae17_85e026f3d382.slice",\r\n            "instance":"bluek8s12009node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-hvcz9",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-hvcz9\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-podb6444dd6_a730_4029_98c7_f90b0819df1b.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-7wwtt",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-7wwtt\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-podd584bd55_53b5_4955_9795_b3f7998317e1.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod3eb58787_d351_4288_ae17_85e026f3d382.slice",\r\n            "instance":"bluek8s12009node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-hvcz9",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-hvcz9\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    }\r\n]'"
2020-11-01 21:00:24 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:24 fishconfig.py[fishconfig,108] DEBUG "Count: the count of conditions is 2"
2020-11-01 21:00:24 fishconfig.py[fishconfig,139] DEBUG "Work: match success"
2020-11-01 21:00:24 alert.py[alert,42] DEBUG "alertContent: alert content is alertname: PodMemoryUsage_7000
description: kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)
summary: ÄÚ´æÊ¹ÓÃÂÊ
instance: bluek8s11100node
job: kubernetes-cadvisor
level: 1
namespace: id-prod-bluepay
pod: deployment-nas-1-7b9458674f-7wwtt
type: pod
alertAt: 2020-11-01 21:00:24
alertSource: prometheus"
2020-11-01 21:00:24 alert.py[alert,63] DEBUG "AlertMethod: send to wechat: user is nat.zhu"
2020-11-01 21:00:25 alert.py[alert,72] DEBUG "AlertMethod: send to dingtalk: webook is https://oapi.dingtalk.com/robot/send?access_token=223dce65a3640d336875de3ccb6c58fa684e1609ff68a4d131d9083bf368380c,atDingtalk is []"
2020-11-01 21:00:25 dingtalk.py[dingtalk,115] DEBUG "textÀàĞÍ£º{'msgtype': 'text', 'at': {}, 'text': {'content': 'alertname: PodMemoryUsage_7000\ndescription: kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)\nsummary: ÄÚ´æÊ¹ÓÃÂÊ\ninstance: bluek8s11100node\njob: kubernetes-cadvisor\nlevel: 1\nnamespace: id-prod-bluepay\npod: deployment-nas-1-7b9458674f-7wwtt\ntype: pod\nalertAt: 2020-11-01 21:00:24\nalertSource: prometheus'}}"
2020-11-01 21:00:25 connectionpool.py[connectionpool,943] DEBUG "Starting new HTTPS connection (1): oapi.dingtalk.com:443"
2020-11-01 21:00:25 connectionpool.py[connectionpool,442] DEBUG "https://oapi.dingtalk.com:443 "POST /robot/send?access_token=223dce65a3640d336875de3ccb6c58fa684e1609ff68a4d131d9083bf368380c&timestamp=1604235625234&sign=3xSreCrBjTIirVFuoUe1sc7FD3b5dy2yBsIs7M5AqlQ%3D HTTP/1.1" 200 None"
2020-11-01 21:00:25 dingtalk.py[dingtalk,162] DEBUG "·¢ËÍ½á¹û£º{'errcode': 0, 'errmsg': 'ok'}"
2020-11-01 21:00:25 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:25 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:25 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:25 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:25 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:25 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:25 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:25 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:25 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:25 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:25 datahandle.py[datahandle,60] DEBUG "Insert success: [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb169999fa04d63d4964c')}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb169999fa04d63d4964d')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb169999fa04d63d4964e')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb169999fa04d63d4964f')}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb169999fa04d63d49650')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:24', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb169999fa04d63d49651')}]"
2020-11-01 21:00:25 _internal.py[_internal,113] INFO "127.0.0.1 - - [01/Nov/2020 21:00:25] "[37mPOST /promeData HTTP/1.1[0m" 200 -"
2020-11-01 21:00:26 api.py[api,29] DEBUG "Accept the datab'[\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_7000",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-podb6444dd6_a730_4029_98c7_f90b0819df1b.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-7wwtt",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-7wwtt\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage",\r\n            "id":"/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-podd584bd55_53b5_4955_9795_b3f7998317e1.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod3eb58787_d351_4288_ae17_85e026f3d382.slice",\r\n            "instance":"bluek8s12009node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-hvcz9",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-hvcz9\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-podb6444dd6_a730_4029_98c7_f90b0819df1b.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-7wwtt",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-7wwtt\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-podd584bd55_53b5_4955_9795_b3f7998317e1.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod3eb58787_d351_4288_ae17_85e026f3d382.slice",\r\n            "instance":"bluek8s12009node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-hvcz9",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-hvcz9\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    }\r\n]'"
2020-11-01 21:00:26 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:26 fishconfig.py[fishconfig,108] DEBUG "Count: the count of conditions is 3"
2020-11-01 21:00:26 fishconfig.py[fishconfig,139] DEBUG "Work: match success"
2020-11-01 21:00:26 alert.py[alert,42] DEBUG "alertContent: alert content is alertname: PodMemoryUsage_7000
description: kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)
summary: ÄÚ´æÊ¹ÓÃÂÊ
instance: bluek8s11100node
job: kubernetes-cadvisor
level: 1
namespace: id-prod-bluepay
pod: deployment-nas-1-7b9458674f-7wwtt
type: pod
alertAt: 2020-11-01 21:00:26
alertSource: prometheus"
2020-11-01 21:00:26 alert.py[alert,63] DEBUG "AlertMethod: send to wechat: user is nat.zhu"
2020-11-01 21:00:26 alert.py[alert,72] DEBUG "AlertMethod: send to dingtalk: webook is https://oapi.dingtalk.com/robot/send?access_token=223dce65a3640d336875de3ccb6c58fa684e1609ff68a4d131d9083bf368380c,atDingtalk is []"
2020-11-01 21:00:26 dingtalk.py[dingtalk,115] DEBUG "textÀàĞÍ£º{'msgtype': 'text', 'at': {}, 'text': {'content': 'alertname: PodMemoryUsage_7000\ndescription: kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)\nsummary: ÄÚ´æÊ¹ÓÃÂÊ\ninstance: bluek8s11100node\njob: kubernetes-cadvisor\nlevel: 1\nnamespace: id-prod-bluepay\npod: deployment-nas-1-7b9458674f-7wwtt\ntype: pod\nalertAt: 2020-11-01 21:00:26\nalertSource: prometheus'}}"
2020-11-01 21:00:26 connectionpool.py[connectionpool,943] DEBUG "Starting new HTTPS connection (1): oapi.dingtalk.com:443"
2020-11-01 21:00:26 connectionpool.py[connectionpool,442] DEBUG "https://oapi.dingtalk.com:443 "POST /robot/send?access_token=223dce65a3640d336875de3ccb6c58fa684e1609ff68a4d131d9083bf368380c&timestamp=1604235626564&sign=qnWO2WLyWr5eWsNAJR%2FBp9xNzVnRhPNTvSxKng%2F08pY%3D HTTP/1.1" 200 None"
2020-11-01 21:00:26 dingtalk.py[dingtalk,162] DEBUG "·¢ËÍ½á¹û£º{'errcode': 0, 'errmsg': 'ok'}"
2020-11-01 21:00:26 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:26 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:26 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:26 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:26 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:26 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:26 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:26 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:26 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:26 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:26 datahandle.py[datahandle,60] DEBUG "Insert success: [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb16a999fa04d63d49653')}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb16a999fa04d63d49654')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb16a999fa04d63d49655')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb16a999fa04d63d49656')}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb16a999fa04d63d49657')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:26', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb16a999fa04d63d49658')}]"
2020-11-01 21:00:26 _internal.py[_internal,113] INFO "127.0.0.1 - - [01/Nov/2020 21:00:26] "[37mPOST /promeData HTTP/1.1[0m" 200 -"
2020-11-01 21:00:53 _internal.py[_internal,113] INFO " * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)"
2020-11-01 21:00:53 api.py[api,29] DEBUG "Accept the datab'[\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_7000",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-podb6444dd6_a730_4029_98c7_f90b0819df1b.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-7wwtt",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-7wwtt\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage",\r\n            "id":"/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-podd584bd55_53b5_4955_9795_b3f7998317e1.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod3eb58787_d351_4288_ae17_85e026f3d382.slice",\r\n            "instance":"bluek8s12009node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-hvcz9",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-hvcz9\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-podb6444dd6_a730_4029_98c7_f90b0819df1b.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-7wwtt",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-7wwtt\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-podd584bd55_53b5_4955_9795_b3f7998317e1.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod3eb58787_d351_4288_ae17_85e026f3d382.slice",\r\n            "instance":"bluek8s12009node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-hvcz9",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-hvcz9\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    }\r\n]'"
2020-11-01 21:00:53 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:53 fishconfig.py[fishconfig,108] DEBUG "Count: the count of conditions is 4"
2020-11-01 21:00:53 fishconfig.py[fishconfig,139] DEBUG "Work: match success"
2020-11-01 21:00:53 alert.py[alert,42] DEBUG "alertContent: alert content is alertname: PodMemoryUsage_7000
description: kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)
summary: ÄÚ´æÊ¹ÓÃÂÊ
instance: bluek8s11100node
job: kubernetes-cadvisor
level: 1
namespace: id-prod-bluepay
pod: deployment-nas-1-7b9458674f-7wwtt
type: pod
alertAt: 2020-11-01 21:00:53
alertSource: prometheus"
2020-11-01 21:00:53 alert.py[alert,63] DEBUG "AlertMethod: send to wechat: user is nat.zhu"
2020-11-01 21:00:53 alert.py[alert,72] DEBUG "AlertMethod: send to dingtalk: webook is https://oapi.dingtalk.com/robot/send?access_token=223dce65a3640d336875de3ccb6c58fa684e1609ff68a4d131d9083bf368380c,atDingtalk is []"
2020-11-01 21:00:53 dingtalk.py[dingtalk,115] DEBUG "textÀàĞÍ£º{'msgtype': 'text', 'at': {}, 'text': {'content': 'alertname: PodMemoryUsage_7000\ndescription: kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)\nsummary: ÄÚ´æÊ¹ÓÃÂÊ\ninstance: bluek8s11100node\njob: kubernetes-cadvisor\nlevel: 1\nnamespace: id-prod-bluepay\npod: deployment-nas-1-7b9458674f-7wwtt\ntype: pod\nalertAt: 2020-11-01 21:00:53\nalertSource: prometheus'}}"
2020-11-01 21:00:53 connectionpool.py[connectionpool,943] DEBUG "Starting new HTTPS connection (1): oapi.dingtalk.com:443"
2020-11-01 21:00:53 connectionpool.py[connectionpool,442] DEBUG "https://oapi.dingtalk.com:443 "POST /robot/send?access_token=223dce65a3640d336875de3ccb6c58fa684e1609ff68a4d131d9083bf368380c&timestamp=1604235653324&sign=ZQL%2Fha2OFLkJiN4YNJGL89NpidGdDKd%2BXHn5ygFu8qs%3D HTTP/1.1" 200 None"
2020-11-01 21:00:53 dingtalk.py[dingtalk,162] DEBUG "·¢ËÍ½á¹û£º{'errcode': 0, 'errmsg': 'ok'}"
2020-11-01 21:00:53 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:53 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:53 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:53 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:53 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:53 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:53 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:53 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:53 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus'}]"
2020-11-01 21:00:53 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:00:53 datahandle.py[datahandle,60] DEBUG "Insert success: [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb1855510af64022e3880')}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb1855510af64022e3881')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb1855510af64022e3882')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb1855510af64022e3883')}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb1855510af64022e3884')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:00:53', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb1855510af64022e3885')}]"
2020-11-01 21:00:53 _internal.py[_internal,113] INFO "127.0.0.1 - - [01/Nov/2020 21:00:53] "[37mPOST /promeData HTTP/1.1[0m" 200 -"
2020-11-01 21:01:32 _internal.py[_internal,113] INFO " * Running on http://0.0.0.0:5000/ (Press CTRL+C to quit)"
2020-11-01 21:01:33 api.py[api,29] DEBUG "Accept the datab'[\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_7000",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-podb6444dd6_a730_4029_98c7_f90b0819df1b.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-7wwtt",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-7wwtt\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage",\r\n            "id":"/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-podd584bd55_53b5_4955_9795_b3f7998317e1.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod3eb58787_d351_4288_ae17_85e026f3d382.slice",\r\n            "instance":"bluek8s12009node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-hvcz9",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-hvcz9\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-podb6444dd6_a730_4029_98c7_f90b0819df1b.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-7wwtt",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-7wwtt\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-podd584bd55_53b5_4955_9795_b3f7998317e1.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod3eb58787_d351_4288_ae17_85e026f3d382.slice",\r\n            "instance":"bluek8s12009node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-hvcz9",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-hvcz9\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    }\r\n]'"
2020-11-01 21:01:33 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}]"
2020-11-01 21:01:34 fishconfig.py[fishconfig,108] DEBUG "Count: the count of conditions is 5"
2020-11-01 21:01:34 fishconfig.py[fishconfig,139] DEBUG "Work: match success"
2020-11-01 21:01:34 alert.py[alert,42] DEBUG "alertContent: alert content is alertname: PodMemoryUsage_7000
description: kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)
summary: ÄÚ´æÊ¹ÓÃÂÊ
instance: bluek8s11100node
job: kubernetes-cadvisor
level: 1
namespace: id-prod-bluepay
pod: deployment-nas-1-7b9458674f-7wwtt
type: pod
alertAt: 2020-11-01 21:01:33
alertSource: prometheus"
2020-11-01 21:01:34 alert.py[alert,63] DEBUG "AlertMethod: send to wechat: user is nat.zhu"
2020-11-01 21:01:34 alert.py[alert,72] DEBUG "AlertMethod: send to dingtalk: webook is https://oapi.dingtalk.com/robot/send?access_token=223dce65a3640d336875de3ccb6c58fa684e1609ff68a4d131d9083bf368380c,atDingtalk is []"
2020-11-01 21:01:34 dingtalk.py[dingtalk,115] DEBUG "textÀàĞÍ£º{'msgtype': 'text', 'at': {}, 'text': {'content': 'alertname: PodMemoryUsage_7000\ndescription: kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)\nsummary: ÄÚ´æÊ¹ÓÃÂÊ\ninstance: bluek8s11100node\njob: kubernetes-cadvisor\nlevel: 1\nnamespace: id-prod-bluepay\npod: deployment-nas-1-7b9458674f-7wwtt\ntype: pod\nalertAt: 2020-11-01 21:01:33\nalertSource: prometheus'}}"
2020-11-01 21:01:34 connectionpool.py[connectionpool,943] DEBUG "Starting new HTTPS connection (1): oapi.dingtalk.com:443"
2020-11-01 21:01:34 connectionpool.py[connectionpool,442] DEBUG "https://oapi.dingtalk.com:443 "POST /robot/send?access_token=223dce65a3640d336875de3ccb6c58fa684e1609ff68a4d131d9083bf368380c&timestamp=1604235694257&sign=%2F%2F4fOi3mQkZ5PxyGPl98MU5iEwYBq7W61RNV1PX%2BznQ%3D HTTP/1.1" 200 None"
2020-11-01 21:01:34 dingtalk.py[dingtalk,162] DEBUG "·¢ËÍ½á¹û£º{'errcode': 0, 'errmsg': 'ok'}"
2020-11-01 21:01:34 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}]"
2020-11-01 21:01:34 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:01:34 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}]"
2020-11-01 21:01:34 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:01:34 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}]"
2020-11-01 21:01:34 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:01:34 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}]"
2020-11-01 21:01:34 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:01:34 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus'}]"
2020-11-01 21:01:34 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:01:34 datahandle.py[datahandle,60] DEBUG "Insert success: [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb1ae6b17c6fab0f15dc5')}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb1ae6b17c6fab0f15dc6')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb1ae6b17c6fab0f15dc7')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb1ae6b17c6fab0f15dc8')}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb1ae6b17c6fab0f15dc9')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:33', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb1ae6b17c6fab0f15dca')}]"
2020-11-01 21:01:34 _internal.py[_internal,113] INFO "127.0.0.1 - - [01/Nov/2020 21:01:34] "[37mPOST /promeData HTTP/1.1[0m" 200 -"
2020-11-01 21:01:35 api.py[api,29] DEBUG "Accept the datab'[\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_7000",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-podb6444dd6_a730_4029_98c7_f90b0819df1b.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-7wwtt",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-7wwtt\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage",\r\n            "id":"/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-podd584bd55_53b5_4955_9795_b3f7998317e1.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod3eb58787_d351_4288_ae17_85e026f3d382.slice",\r\n            "instance":"bluek8s12009node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"1",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-hvcz9",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-hvcz9\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8780%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+80&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-podb6444dd6_a730_4029_98c7_f90b0819df1b.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-7wwtt",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-7wwtt\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-podd584bd55_53b5_4955_9795_b3f7998317e1.slice",\r\n            "instance":"bluek8s11100node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    },\r\n    {\r\n        "labels":{\r\n            "alertname":"PodMemoryUsage_90",\r\n            "id":"/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod3eb58787_d351_4288_ae17_85e026f3d382.slice",\r\n            "instance":"bluek8s12009node",\r\n            "job":"kubernetes-cadvisor",\r\n            "level":"4",\r\n            "namespace":"id-prod-bluepay",\r\n            "pod":"deployment-nas-1-7b9458674f-hvcz9",\r\n            "type":"pod"\r\n        },\r\n        "annotations":{\r\n            "description":"kubernetes\xe9\x9b\x86\xe7\xbe\xa4\xe5\x86\x85deployment-nas-1-7b9458674f-hvcz9\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87\xe8\xb6\x85\xe8\xbf\x8790%(\xe5\xbd\x93\xe5\x89\x8d\xe5\x80\xbc: +Inf)",\r\n            "summary":"\xe5\x86\x85\xe5\xad\x98\xe4\xbd\xbf\xe7\x94\xa8\xe7\x8e\x87"\r\n        },\r\n        "startsAt":"2020-09-11T08:12:09.994870056Z",\r\n        "endsAt":"0001-01-01T00:00:00Z",\r\n        "generatorURL":"http://prometheus-0:9090/graph?g0.expr=container_memory_rss%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2F+container_spec_memory_limit_bytes%7Bcontainer%3D%22%22%2Cjob%3D%22kubernetes-cadvisor%22%2Cnamespace%3D%22id-prod-bluepay%22%7D+%2A+100+%3E+90&g0.tab=1"\r\n    }\r\n]'"
2020-11-01 21:01:35 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}]"
2020-11-01 21:01:35 fishconfig.py[fishconfig,108] DEBUG "Count: the count of conditions is 6"
2020-11-01 21:01:35 fishconfig.py[fishconfig,139] DEBUG "Work: match success"
2020-11-01 21:01:35 alert.py[alert,42] DEBUG "alertContent: alert content is alertname: PodMemoryUsage_7000
description: kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)
summary: ÄÚ´æÊ¹ÓÃÂÊ
instance: bluek8s11100node
job: kubernetes-cadvisor
level: 1
namespace: id-prod-bluepay
pod: deployment-nas-1-7b9458674f-7wwtt
type: pod
alertAt: 2020-11-01 21:01:35
alertSource: prometheus"
2020-11-01 21:01:35 alert.py[alert,63] DEBUG "AlertMethod: send to wechat: user is nat.zhu"
2020-11-01 21:01:35 alert.py[alert,72] DEBUG "AlertMethod: send to dingtalk: webook is https://oapi.dingtalk.com/robot/send?access_token=223dce65a3640d336875de3ccb6c58fa684e1609ff68a4d131d9083bf368380c,atDingtalk is []"
2020-11-01 21:01:35 dingtalk.py[dingtalk,115] DEBUG "textÀàĞÍ£º{'msgtype': 'text', 'at': {}, 'text': {'content': 'alertname: PodMemoryUsage_7000\ndescription: kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)\nsummary: ÄÚ´æÊ¹ÓÃÂÊ\ninstance: bluek8s11100node\njob: kubernetes-cadvisor\nlevel: 1\nnamespace: id-prod-bluepay\npod: deployment-nas-1-7b9458674f-7wwtt\ntype: pod\nalertAt: 2020-11-01 21:01:35\nalertSource: prometheus'}}"
2020-11-01 21:01:35 connectionpool.py[connectionpool,943] DEBUG "Starting new HTTPS connection (1): oapi.dingtalk.com:443"
2020-11-01 21:01:35 connectionpool.py[connectionpool,442] DEBUG "https://oapi.dingtalk.com:443 "POST /robot/send?access_token=223dce65a3640d336875de3ccb6c58fa684e1609ff68a4d131d9083bf368380c&timestamp=1604235695572&sign=5BsXNkzeqNuw6KEOX4NPTMVVU47KGx7G%2Bg4By99a67M%3D HTTP/1.1" 200 None"
2020-11-01 21:01:35 dingtalk.py[dingtalk,162] DEBUG "·¢ËÍ½á¹û£º{'errcode': 0, 'errmsg': 'ok'}"
2020-11-01 21:01:35 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}]"
2020-11-01 21:01:35 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:01:35 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}]"
2020-11-01 21:01:35 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:01:35 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}]"
2020-11-01 21:01:35 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:01:35 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}]"
2020-11-01 21:01:35 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:01:35 datahandle.py[datahandle,35] DEBUG "Data from prometheus, start to apply th rules, dataList is [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus'}]"
2020-11-01 21:01:35 fishconfig.py[fishconfig,145] DEBUG "Work: no rules match the message"
2020-11-01 21:01:35 datahandle.py[datahandle,60] DEBUG "Insert success: [{'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_7000', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb1af6b17c6fab0f15dcc')}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb1af6b17c6fab0f15dcd')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı80%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '1', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb1af6b17c6fab0f15dce')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-7wwttÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-7wwtt', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb1af6b17c6fab0f15dcf')}, {'description': 'kubernetes¼¯ÈºÄÚack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5vÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s11100node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'ack-ingress-nginx-bluepay-controller-64d5bb7cd5-7lx5v', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb1af6b17c6fab0f15dd0')}, {'description': 'kubernetes¼¯ÈºÄÚdeployment-nas-1-7b9458674f-hvcz9ÄÚ´æÊ¹ÓÃÂÊ³¬¹ı90%(µ±Ç°Öµ: +Inf)', 'summary': 'ÄÚ´æÊ¹ÓÃÂÊ', 'alertname': 'PodMemoryUsage_90', 'instance': 'bluek8s12009node', 'job': 'kubernetes-cadvisor', 'level': '4', 'namespace': 'id-prod-bluepay', 'pod': 'deployment-nas-1-7b9458674f-hvcz9', 'type': 'pod', 'alertStatus': 0, 'alertAt': '2020-11-01 21:01:35', 'alertSource': 'prometheus', '_id': ObjectId('5f9eb1af6b17c6fab0f15dd1')}]"
2020-11-01 21:01:35 _internal.py[_internal,113] INFO "127.0.0.1 - - [01/Nov/2020 21:01:35] "[37mPOST /promeData HTTP/1.1[0m" 200 -"
